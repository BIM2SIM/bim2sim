stages:
  - test
  - code_quality
  - build-env
  - build-env-plugins
  - build-tool
  - doc
  - deploy
  - build_conda_base
  - release_conda_base
  - build_conda_plugin
  - release_conda_plugin
  - build_conda_total
  - release_conda_total
  - build_docker_base
  - test_docker_base
  - release_docker_base
  - build_docker_plugin
  - test_docker_plugin
  - release_docker_plugin
  - build_docker_total
  - test_docker_total
  - release_docker_total
  - build_conda_environment
  - release_conda_environment

variables:
  GIT_SUBMODULE_STRATEGY: recursive
  CI_BUILD: ci_build_conda_dev
  description: "standby for triggering the formation of conda packages" # makes this variable appear on the Run Pipeline form
  BIM2SIM_BASE_VERSION: "*"
  description: "Specifies the version number of bim2sim_base on which the plugins are installed. " # makes this variable appear on the Run Pipeline form


include:
    - 'ci_templates/build_docker_image.gitlab-ci.yml'
    - 'ci_templates/build_conda_image.gitlab-ci.yml'
    - 'ci_templates/code_quality.gitlab-ci.yml'
    - 'ci_templates/deploy.gitlab-ci.yml'
    - 'ci_templates/doc.gitlab-ci.yml'
    - 'ci_templates/test.gitlab-ci.yml'
