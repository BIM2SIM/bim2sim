<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>bim2sim.elements.graphs package &mdash; bim2sim  0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bim2sim.elements.mapping package" href="bim2sim.elements.mapping.html" />
    <link rel="prev" title="bim2sim.elements.aggregation package" href="bim2sim.elements.aggregation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/b2s_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../big-picture.html">Big Picture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user-guide.html">User-Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simulation-guide.html">Simulation-Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced-user-guide.html">Advanced User-Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer-guide.html">Developer-Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">bim2sim</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="bim2sim.html">bim2sim package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bim2sim.html#bim2sim.run_project"><code class="docutils literal notranslate"><span class="pre">run_project()</span></code></a></li>
<li class="toctree-l3 current"><a class="reference internal" href="bim2sim.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="bim2sim.elements.html">bim2sim.elements package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bim2sim.examples.html">bim2sim.examples package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bim2sim.export.html">bim2sim.export package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bim2sim.kernel.html">bim2sim.kernel package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bim2sim.plugins.html">bim2sim.plugins package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bim2sim.tasks.html">bim2sim.tasks package</a></li>
<li class="toctree-l4"><a class="reference internal" href="bim2sim.utilities.html">bim2sim.utilities package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bim2sim.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bim2sim.html#module-bim2sim.project">bim2sim.project module</a></li>
<li class="toctree-l3"><a class="reference internal" href="bim2sim.html#module-bim2sim.sim_settings">bim2sim.sim_settings module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">bim2sim </a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">bim2sim</a></li>
          <li class="breadcrumb-item"><a href="bim2sim.html">bim2sim package</a></li>
          <li class="breadcrumb-item"><a href="bim2sim.elements.html">bim2sim.elements package</a></li>
      <li class="breadcrumb-item active">bim2sim.elements.graphs package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/code/bim2sim.elements.graphs.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-bim2sim.elements.graphs">
<span id="bim2sim-elements-graphs-package"></span><h1>bim2sim.elements.graphs package<a class="headerlink" href="#module-bim2sim.elements.graphs" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-bim2sim.elements.graphs.hvac_graph">
<span id="bim2sim-elements-graphs-hvac-graph-module"></span><h2>bim2sim.elements.graphs.hvac_graph module<a class="headerlink" href="#module-bim2sim.elements.graphs.hvac_graph" title="Permalink to this heading"></a></h2>
<p>This module represents the elements of a HVAC system in form of a network
graph where each node represents a hvac-component.</p>
<dl class="py class">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bim2sim.elements.graphs.hvac_graph.</span></span><span class="sig-name descname"><span class="pre">HvacGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">attr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></p>
<p>HVAC related graph manipulations based on ports.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.detect_bypasses_to_wanted">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detect_bypasses_to_wanted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wanted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inert</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blockers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.detect_bypasses_to_wanted" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of nodes which build a bypass to the wanted elements
and blockers. E.g. used to find bypasses between generator and
distributor.
:returns: list of nodes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.dump_to_cytoscape_json">
<span class="sig-name descname"><span class="pre">dump_to_cytoscape_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.dump_to_cytoscape_json" title="Permalink to this definition"></a></dt>
<dd><p>Dumps the current state of the graph to a json file in cytoscape
format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code>) – Pathlib path to where to dump the JSON file.</p></li>
<li><p><strong>ports</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if True the ports graph will be serialized, else the</p></li>
<li><p><strong>element_graph.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.element_graph">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">element_graph</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Graph</span></em><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.element_graph" title="Permalink to this definition"></a></dt>
<dd><p>View of graph with elements instead of ports</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.elements">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">elements</span></span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.elements" title="Permalink to this definition"></a></dt>
<dd><p>List of elements present in graph</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.find_bypasses_in_cycle">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">find_bypasses_in_cycle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cycle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wanted</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.find_bypasses_in_cycle" title="Permalink to this definition"></a></dt>
<dd><p>Detects bypasses in the given cycle of the given graph.</p>
<p>Bypasses are any direct connections between edge elements which don’t
hold wanted elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code>) – The graph in which the cycle belongs.</p></li>
<li><p><strong>cycle</strong> – A list of nodes representing a cycle in the graph.</p></li>
<li><p><strong>wanted</strong> – A list of classes of the desired node type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of bypasses, where each bypass is a list of elements in
the bypass.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.from_serialized">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_serialized</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.from_serialized" title="Permalink to this definition"></a></dt>
<dd><p>Sets grapg from serialized data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_all_cycles_with_wanted">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_all_cycles_with_wanted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wanted</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_all_cycles_with_wanted" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of cycles with wanted element in it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_connections">
<span class="sig-name descname"><span class="pre">get_connections</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_connections" title="Permalink to this definition"></a></dt>
<dd><p>Returns connections between different parent elements</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_connections_between">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_connections_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wanted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_connections_between" title="Permalink to this definition"></a></dt>
<dd><p>Detect simple connections between wanted items.
All graph nodes not in inert or wanted are counted as blocking
:returns: list of none overlapping subgraphs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_contractions">
<span class="sig-name descname"><span class="pre">get_contractions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_contractions" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of contracted nodes for the passed node.
:type node: 
:param node: node in whose connections you are interested
:return:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_cycles">
<span class="sig-name descname"><span class="pre">get_cycles</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_cycles" title="Permalink to this definition"></a></dt>
<dd><p>Find cycles in the graph.
:return cycles:</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_dir_paths_between">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_dir_paths_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_dir_paths_between" title="Permalink to this definition"></a></dt>
<dd><p>get direct connection between list of nodes in a graph.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_not_contracted_neighbors">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_not_contracted_neighbors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_not_contracted_neighbors" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_parallels">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_parallels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wanted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grouping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grp_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_parallels" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Detect parallel occurrences of wanted items.</dt><dd><p>All graph nodes not in inert or wanted are counted as blocking.
Grouping can hold additional arguments like only same size.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Grouping<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict with parameter to be grouped and condition. e.g. (</p>
</dd>
</dl>
<p>rated_power: equal)
:grp_threshold: float for minimum group size
:returns: list of none overlapping subgraphs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_path_without_junctions">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_path_without_junctions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_path_without_junctions" title="Permalink to this definition"></a></dt>
<dd><p>Get not orientated list of nodes for paths that includes the
defined root element. The edges areany junction elements.
These edges are not included by default.
Return all nodes in thisde path.
# todo make this correct!
:graph =
:root = element which must be in path
:include_edges = include edges of path or not</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.get_type_chains">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_type_chains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element_graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_singles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.get_type_chains" title="Permalink to this definition"></a></dt>
<dd><p>Get lists of consecutive elements of the given types. Elements are
ordered in the same way as the are connected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>element_graph</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code>) – Graph object with elements as nodes.</p></li>
<li><p><strong>types</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<a class="reference internal" href="bim2sim.elements.html#bim2sim.elements.base_elements.ProductBased" title="bim2sim.elements.base_elements.ProductBased"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProductBased</span></code></a>]]) – Items the chains are built of.</p></li>
<li><p><strong>include_singles</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Lists of consecutive elements.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>chain_lists</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inner_connections</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_connections</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.merge" title="Permalink to this definition"></a></dt>
<dd><p>Merge port nodes in graph</p>
<p>according to mapping dict port nodes are removed {port: None}
or replaced {port: new_port} ceeping connections.
adds also inner connections to graph and if passed additional
connections.</p>
<p>WARNING: connections from removed port nodes are also removed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>add_connections</strong> – additional connections to add</p></li>
<li><p><strong>mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – replacement dict. ports as keys and replacement ports</p></li>
</ul>
</dd>
</dl>
<p>or None as values
:type inner_connections: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>
:param inner_connections: connections to add</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ports</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">400</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_pyvis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.plot" title="Permalink to this definition"></a></dt>
<dd><p>Plot graph and either display or save as pdf file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code>]) – If provided, the graph is saved there as pdf file or html
if use_pyvis=True.</p></li>
<li><p><strong>ports</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – If True, the port graph is plotted, else the element graph.</p></li>
<li><p><strong>dpi</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – dots per inch, increase for higher quality (takes longer to
render)</p></li>
<li><p><strong>use_pyvis</strong> – exports graph to interactive html</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.recurse_set_side">
<span class="sig-name descname"><span class="pre">recurse_set_side</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">side</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">known</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.recurse_set_side" title="Permalink to this definition"></a></dt>
<dd><p>Recursive set flow_side to connected ports</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.recurse_set_unknown_sides">
<span class="sig-name descname"><span class="pre">recurse_set_unknown_sides</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">visited</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">masters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.recurse_set_unknown_sides" title="Permalink to this definition"></a></dt>
<dd><p>Recursive checks neighbours flow_side.
:returns tuple of</p>
<blockquote>
<div><p>common flow_side (None if conflict)
list of checked ports
list of ports on which flow_side s are determined</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.remove_classes_from">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove_classes_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classes_to_remove</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.remove_classes_from" title="Permalink to this definition"></a></dt>
<dd><p>Removes nodes from a given graph based on their class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code>) – The graph to remove nodes from.</p></li>
<li><p><strong>classes_to_remove</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Set</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code>[<a class="reference internal" href="bim2sim.elements.html#bim2sim.elements.base_elements.ProductBased" title="bim2sim.elements.base_elements.ProductBased"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProductBased</span></code></a>]]) – A set of classes to remove from the graph.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Graph</span></code>, <a class="reference internal" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph" title="bim2sim.elements.graphs.hvac_graph.HvacGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">HvacGraph</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The modified graph as a new instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.remove_not_wanted_nodes">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove_not_wanted_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wanted</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.remove_not_wanted_nodes" title="Permalink to this definition"></a></dt>
<dd><p>Removes not wanted and not inert nodes from the given graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<em>element_graph</em>) – element_graph</p></li>
<li><p><strong>wanted</strong> (<em>Set</em><em>[</em><em>Type</em><em>[</em><a class="reference internal" href="bim2sim.elements.html#bim2sim.elements.base_elements.ProductBased" title="bim2sim.elements.base_elements.ProductBased"><em>ProductBased</em></a><em>]</em><em>]</em>) – set of all elements that are wanted and should persist in
graph</p></li>
<li><p><strong>inert</strong> (<em>Set</em><em>[</em><em>Type</em><em>[</em><a class="reference internal" href="bim2sim.elements.html#bim2sim.elements.base_elements.ProductBased" title="bim2sim.elements.base_elements.ProductBased"><em>ProductBased</em></a><em>]</em><em>]</em>) – set all inert elements. Are treated the same as wanted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.subgraph_from_elements">
<span class="sig-name descname"><span class="pre">subgraph_from_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.subgraph_from_elements" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Returns a subgraph of the current graph containing only the ports</dt><dd><p>associated with the provided elements.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>elements</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>) – A list of elements to include in the subgraph.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A subgraph of the current graph that contains only the ports
associated with the provided elements.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AssertionError</strong> – If the provided elements are not part of the graph.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bim2sim.elements.graphs.hvac_graph.HvacGraph.to_serializable">
<span class="sig-name descname"><span class="pre">to_serializable</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bim2sim.elements.graphs.hvac_graph.HvacGraph.to_serializable" title="Permalink to this definition"></a></dt>
<dd><p>Returns a json serializable object</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bim2sim.elements.aggregation.html" class="btn btn-neutral float-left" title="bim2sim.elements.aggregation package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bim2sim.elements.mapping.html" class="btn btn-neutral float-right" title="bim2sim.elements.mapping package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, RWTH Aachen University, EBC &amp; E3D; ROM Technik GmbH.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>